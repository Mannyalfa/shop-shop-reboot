{"map":{"version":3,"sources":["static/js/main.58778b94.chunk.js"],"names":["this","push","41","module","exports","__webpack_require__","p","77","82","96","99","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","react_router_dom","react_router","ApolloProvider","bundle_esm","es","useQuery","objectSpread2","idbPromise","storeName","method","object","Promise","resolve","reject","db","tx","store","request","window","indexedDB","open","onupgradeneeded","e","result","createObjectStore","keyPath","onerror","err","console","log","error","onsuccess","transaction","objectStore","put","all","getAll","delete","_id","oncomplete","close","_templateObject","_templateObject2","_templateObject3","_templateObject4","_templateObject5","components_ProductItem","item","image","name","price","quantity","state","Object","dispatch","cart","a","createElement","className","to","concat","alt","src","count","pluralize","onClick","itemInCart","find","cartItem","type","purchaseQuantity","parseInt","product","taggedTemplateLiteral","lib","QUERY_PRODUCTS","QUERY_CATEGORIES","QUERY_USER","QUERY_CHECKOUT","spinner","spinner_default","components_ProductList","currentCategory","_useQuery","loading","data","products","forEach","then","length","filter","category","map","key","components_CategoryMenu","categories","categoryData","id","regenerator","regenerator_default","toConsumableArray","asyncToGenerator","slicedToArray","useLazyQuery","components_CartItem","_ref","placeholder","value","onChange","target","role","aria-label","removeFromCart","classCallCheck","createClass","jwt_decode_lib","lib_default","auth","AuthService","getToken","token","isTokenExpired","exp","Date","now","localStorage","getItem","idToken","setItem","location","assign","removeItem","stripe_esm","stripePromise","components_Cart","_useLazyQuery","_useLazyQuery2","getCheckout","toggleCart","_getCart","mark","_callee","wrap","_context","prev","next","sent","stop","apply","arguments","getCart","res","redirectToCheckout","sessionId","checkout","session","cartOpen","sum","toFixed","calculateTotal","loggedIn","productIds","i","variables","pages_Home","pages_Detail","_useState","_useState2","currentProduct","setCurrentProduct","indexedProducts","Fragment","description","disabled","mutations_templateObject","mutations_templateObject2","mutations_templateObject3","components_Jumbotron","children","style","height","clear","paddingTop","textAlign","pages_NoMatch","defineProperty","useMutation","LOGIN","ADD_ORDER","ADD_USER","pages_Login","props","email","password","formState","setFormState","_useMutation","_useMutation2","login","handleFormSubmit","event","mutationResponse","preventDefault","t0","_x","handleChange","_event$target","onSubmit","htmlFor","pages_Signup","addUser","firstName","lastName","components_Nav","href","logout","pages_OrderHistory","user","orders","order","purchaseDate","toLocaleDateString","index","pages_Success","addOrder","_saveOrder","_yield$addOrder","saveOrder","setTimeout","redux","initialState","reducers","undefined","action","newState","utils_store","__REDUX_DEVTOOLS_EXTENSION__","client","operation","setContext","headers","authorization","uri","src_App","exact","path","component","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","render","StrictMode","document","getElementById","URL","origin","addEventListener","fetch","Service-Worker","response","contentType","get","status","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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"},"code":"(this[\"webpackJsonpmern-client\"]=this[\"webpackJsonpmern-client\"]||[]).push([[0],{41:function(e,t,a){e.exports=a.p+\"static/media/spinner.ab497855.gif\"},77:function(e,t,a){e.exports=a(99)},82:function(e,t,a){},96:function(e,t,a){},99:function(e,t,a){\"use strict\";a.r(t);var n=a(0),r=a.n(n),c=a(40),o=a.n(c),l=(a(82),a(14)),i=a(11),u=a(105),s=a(69),m=a(12),d=a(103),p=a(7);function E(e,t,a){return new Promise((function(n,r){var c,o,l,i=window.indexedDB.open(\"shop-shop\",1);i.onupgradeneeded=function(e){var t=i.result;t.createObjectStore(\"products\",{keyPath:\"_id\"}),t.createObjectStore(\"categories\",{keyPath:\"_id\"}),t.createObjectStore(\"cart\",{keyPath:\"_id\"})},i.onerror=function(e){console.log(\"There was an error\"),console.error(e)},i.onsuccess=function(r){switch(c=i.result,o=c.transaction(e,\"readwrite\"),l=o.objectStore(e),c.onerror=function(e){console.log(\"error\",e)},t){case\"put\":l.put(a),n(a);break;case\"get\":var u=l.getAll();u.onsuccess=function(){n(u.result)};break;case\"delete\":l.delete(a._id);break;default:console.log(\"No valid method\")}o.oncomplete=function(){c.close()}}}))}var f,b,g,h,O,v=function(e){var t=e.image,a=e.name,n=e._id,c=e.price,o=e.quantity,i=Object(m.c)((function(e){return e})),u=Object(m.b)(),s=i.cart;return r.a.createElement(\"div\",{className:\"card px-1 py-1\"},r.a.createElement(l.b,{to:\"/products/\".concat(n)},r.a.createElement(\"img\",{alt:a,src:\"/images/\".concat(t)}),r.a.createElement(\"p\",null,a)),r.a.createElement(\"div\",null,r.a.createElement(\"div\",null,o,\" \",function(e,t){return 1===t?e:e+\"s\"}(\"item\",o),\" in stock\"),r.a.createElement(\"span\",null,\"$\",c)),r.a.createElement(\"button\",{onClick:function(){var t=s.find((function(e){return e._id===n}));t?(u({type:\"UPDATE_CART_QUANTITY\",_id:n,purchaseQuantity:parseInt(t.purchaseQuantity)+1}),E(\"cart\",\"put\",Object(p.a)(Object(p.a)({},t),{},{purchaseQuantity:parseInt(t.purchaseQuantity)+1}))):(u({type:\"ADD_TO_CART\",product:Object(p.a)(Object(p.a)({},e),{},{purchaseQuantity:1})}),E(\"cart\",\"put\",Object(p.a)(Object(p.a)({},e),{},{purchaseQuantity:1})))}},\"Add to cart\"))},y=a(25),j=a(26),_=Object(j.a)(f||(f=Object(y.a)([\"\\n  query getProducts($category: ID) {\\n    products(category: $category) {\\n      _id\\n      name\\n      description\\n      price\\n      quantity\\n      image\\n      category {\\n        _id\\n      }\\n    }\\n  }\\n\"]))),w=(Object(j.a)(b||(b=Object(y.a)([\"\\n  {\\n    products {\\n      _id\\n      name\\n      description\\n      price\\n      quantity\\n      category {\\n        name\\n      }\\n    }\\n  }\\n\"]))),Object(j.a)(g||(g=Object(y.a)([\"\\n{\\n  categories {\\n    _id\\n    name\\n  }\\n}\\n\"])))),T=Object(j.a)(h||(h=Object(y.a)([\"\\n{\\n  user {\\n    firstName\\n    lastName\\n    orders {\\n      _id\\n      purchaseDate\\n      products {\\n        _id\\n        name\\n        description\\n        price\\n        quantity\\n        image\\n      }\\n    }\\n  }\\n}\\n\"]))),N=Object(j.a)(O||(O=Object(y.a)([\"\\n  query getCheckout($products: [ID]!) {\\n    checkout(products: $products) {\\n      session\\n    }\\n  }\\n\"]))),k=a(41),C=a.n(k);var A=function(){var e=Object(m.c)((function(e){return e})),t=Object(m.b)(),a=e.currentCategory,c=Object(d.a)(_),o=c.loading,l=c.data;return Object(n.useEffect)((function(){l?(t({type:\"UPDATE_PRODUCTS\",products:l.products}),l.products.forEach((function(e){E(\"products\",\"put\",e)}))):o||E(\"products\",\"get\").then((function(e){t({type:\"UPDATE_PRODUCTS\",products:e})}))}),[l,o,t]),r.a.createElement(\"div\",{className:\"my-2\"},r.a.createElement(\"h2\",null,\"Our Products:\"),e.products.length?r.a.createElement(\"div\",{className:\"flex-row\"},(a?e.products.filter((function(e){return e.category._id===a})):e.products).map((function(e){return r.a.createElement(v,{key:e._id,_id:e._id,image:e.image,name:e.name,price:e.price,quantity:e.quantity})}))):r.a.createElement(\"h3\",null,\"You haven't added any products yet!\"),o?r.a.createElement(\"img\",{src:C.a,alt:\"loading\"}):null)};var x=function(){var e=Object(m.c)((function(e){return e.categories})),t=Object(m.b)(),a=Object(d.a)(w),c=a.loading,o=a.data;return Object(n.useEffect)((function(){o?(t({type:\"UPDATE_CATEGORIES\",categories:o.categories}),o.categories.forEach((function(e){E(\"categories\",\"put\",e)}))):c||E(\"categories\",\"get\").then((function(e){t({type:\"UPDATE_CATEGORIES\",categories:e})}))}),[o,c,t]),r.a.createElement(\"div\",null,r.a.createElement(\"h2\",null,\"Choose a Category:\"),e.map((function(e){return r.a.createElement(\"button\",{key:e._id,onClick:function(){var a;a=e._id,t({type:\"UPDATE_CURRENT_CATEGORY\",currentCategory:a})}},e.name)})))},D=a(21),R=a.n(D),S=a(30),P=a(29),U=a(20),I=a(104),Q=function(e){var t=e.item,a=Object(m.b)();return r.a.createElement(\"div\",{className:\"flex-row\"},r.a.createElement(\"div\",null,r.a.createElement(\"img\",{src:\"/images/\".concat(t.image),alt:\"\"})),r.a.createElement(\"div\",null,r.a.createElement(\"div\",null,t.name,\", $\",t.price),r.a.createElement(\"div\",null,r.a.createElement(\"span\",null,\"Qty:\"),r.a.createElement(\"input\",{type:\"number\",placeholder:\"1\",value:t.purchaseQuantity,onChange:function(e){var n=e.target.value;\"0\"===n?(a({type:\"REMOVE_FROM_CART\",_id:t._id}),E(\"cart\",\"delete\",Object(p.a)({},t))):(a({type:\"UPDATE_CART_QUANTITY\",_id:t._id,purchaseQuantity:parseInt(n)}),E(\"cart\",\"put\",Object(p.a)(Object(p.a)({},t),{},{purchaseQuantity:parseInt(n)})))}}),r.a.createElement(\"span\",{role:\"img\",\"aria-label\":\"trash\",onClick:function(){return function(e){a({type:\"REMOVE_FROM_CART\",_id:e._id}),E(\"cart\",\"delete\",Object(p.a)({},e))}(t)}},\"\\ud83d\\uddd1\\ufe0f\"))))},$=a(62),F=a(63),L=a(52),q=a.n(L),M=new(function(){function e(){Object($.a)(this,e)}return Object(F.a)(e,[{key:\"getProfile\",value:function(){return q()(this.getToken())}},{key:\"loggedIn\",value:function(){var e=this.getToken();return!!e&&!this.isTokenExpired(e)}},{key:\"isTokenExpired\",value:function(e){try{return q()(e).exp<Date.now()/1e3}catch(t){return!1}}},{key:\"getToken\",value:function(){return localStorage.getItem(\"id_token\")}},{key:\"login\",value:function(e){localStorage.setItem(\"id_token\",e),window.location.assign(\"/\")}},{key:\"logout\",value:function(){localStorage.removeItem(\"id_token\"),window.location.assign(\"/\")}}]),e}()),G=(a(96),a(64)),Y=Object(G.a)(\"pk_test_TYooMQauvdEDq54NiTphI7jx\"),W=function(){var e=Object(m.c)((function(e){return e})),t=Object(m.b)(),a=Object(I.a)(N),c=Object(U.a)(a,2),o=c[0],l=c[1].data;function i(){t({type:\"TOGGLE_CART\"})}return Object(n.useEffect)((function(){function a(){return(a=Object(P.a)(R.a.mark((function e(){var a;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(\"cart\",\"get\");case 2:a=e.sent,t({type:\"ADD_MULTIPLE_TO_CART\",products:Object(S.a)(a)});case 4:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}e.cart.length||function(){a.apply(this,arguments)}()}),[e.cart.length,t]),Object(n.useEffect)((function(){l&&Y.then((function(e){e.redirectToCheckout({sessionId:l.checkout.session})}))}),[l]),e.cartOpen?r.a.createElement(\"div\",{className:\"cart\"},r.a.createElement(\"div\",{className:\"close\",onClick:i},\"[close]\"),r.a.createElement(\"h2\",null,\"Shopping Cart\"),r.a.createElement(\"div\",null,e.cart.length?r.a.createElement(\"div\",null,e.cart.map((function(e){return r.a.createElement(Q,{key:e._id,item:e})})),r.a.createElement(\"div\",{className:\"flex-row space-between\"},r.a.createElement(\"strong\",null,\"Total: $\",function(){var t=0;return e.cart.forEach((function(e){t+=e.price*e.purchaseQuantity})),t.toFixed(2)}()),M.loggedIn()?r.a.createElement(\"button\",{onClick:function(){var t=[];e.cart.forEach((function(e){for(var a=0;a<e.purchaseQuantity;a++)t.push(e._id)})),o({variables:{products:t}})}},\"Checkout\"):r.a.createElement(\"span\",null,\"(log in to check out)\"))):r.a.createElement(\"h3\",null,r.a.createElement(\"span\",{role:\"img\",\"aria-label\":\"shocked\"},\"\\ud83d\\ude31\"),\"You haven't added anything to your cart yet!\"))):r.a.createElement(\"div\",{className:\"cart-closed\",onClick:i},r.a.createElement(\"span\",{role:\"img\",\"aria-label\":\"cart\"},\"\\ud83d\\uded2\"))},B=function(){return r.a.createElement(\"div\",{className:\"container\"},r.a.createElement(x,null),r.a.createElement(A,null),r.a.createElement(W,null))};var V=function(){var e=Object(m.c)((function(e){return e})),t=Object(m.b)(),a=Object(i.f)().id,c=Object(n.useState)({}),o=Object(U.a)(c,2),u=o[0],s=o[1],f=Object(d.a)(_),b=f.loading,g=f.data,h=e.products,O=e.cart;return Object(n.useEffect)((function(){h.length?s(h.find((function(e){return e._id===a}))):g?(t({type:\"UPDATE_PRODUCTS\",products:g.products}),g.products.forEach((function(e){E(\"products\",\"put\",e)}))):b||E(\"products\",\"get\").then((function(e){t({type:\"UPDATE_PRODUCTS\",products:e})}))}),[h,g,b,t,a]),r.a.createElement(r.a.Fragment,null,u?r.a.createElement(\"div\",{className:\"container my-1\"},r.a.createElement(l.b,{to:\"/\"},\"\\u2190 Back to Products\"),r.a.createElement(\"h2\",null,u.name),r.a.createElement(\"p\",null,u.description),r.a.createElement(\"p\",null,r.a.createElement(\"strong\",null,\"Price:\"),\"$\",u.price,\" \",r.a.createElement(\"button\",{onClick:function(){var e=O.find((function(e){return e._id===a}));e?(t({type:\"UPDATE_CART_QUANTITY\",_id:a,purchaseQuantity:parseInt(e.purchaseQuantity)+1}),E(\"cart\",\"put\",Object(p.a)(Object(p.a)({},e),{},{purchaseQuantity:parseInt(e.purchaseQuantity)+1}))):(t({type:\"ADD_TO_CART\",product:Object(p.a)(Object(p.a)({},u),{},{purchaseQuantity:1})}),E(\"cart\",\"put\",Object(p.a)(Object(p.a)({},u),{},{purchaseQuantity:1})))}},\"Add to Cart\"),r.a.createElement(\"button\",{disabled:!O.find((function(e){return e._id===u._id})),onClick:function(){t({type:\"REMOVE_FROM_CART\",_id:u._id}),E(\"cart\",\"delete\",Object(p.a)({},u))}},\"Remove from Cart\")),r.a.createElement(\"img\",{src:\"/images/\".concat(u.image),alt:u.name})):null,b?r.a.createElement(\"img\",{src:C.a,alt:\"loading\"}):null,r.a.createElement(W,null))};var H,X,J,z=function(e){var t=e.children;return r.a.createElement(\"div\",{style:{height:560,clear:\"both\",paddingTop:120,textAlign:\"center\"}},t)},K=function(){return r.a.createElement(\"div\",null,r.a.createElement(z,null,r.a.createElement(\"h1\",null,\"404 Page Not Found\"),r.a.createElement(\"h1\",null,r.a.createElement(\"span\",{role:\"img\",\"aria-label\":\"Face With Rolling Eyes Emoji\"},\"\\ud83d\\ude44\"))))},Z=a(32),ee=a(106),te=Object(j.a)(H||(H=Object(y.a)([\"\\n  mutation login($email: String!, $password: String!) {\\n    login(email: $email, password: $password) {\\n      token\\n      user {\\n        _id\\n      }\\n    }\\n  }\\n\"]))),ae=Object(j.a)(X||(X=Object(y.a)([\"\\n  mutation addOrder($products: [ID]!) {\\n    addOrder(products: $products) {\\n      purchaseDate\\n      products {\\n        _id\\n      name\\n      description\\n      price\\n      quantity\\n      category {\\n        name\\n      } \\n      }\\n    }\\n  }\\n\"]))),ne=Object(j.a)(J||(J=Object(y.a)([\"\\n  mutation addUser($firstName: String!, $lastName: String!, $email: String!, $password: String!) {\\n    addUser(firstName: $firstName, lastName: $lastName, email: $email, password: $password) {\\n      token\\n      user {\\n        _id\\n      }\\n    }\\n  }\\n\"])));var re=function(e){var t=Object(n.useState)({email:\"\",password:\"\"}),a=Object(U.a)(t,2),c=a[0],o=a[1],i=Object(ee.a)(te),u=Object(U.a)(i,2),s=u[0],m=u[1].error,d=function(){var e=Object(P.a)(R.a.mark((function e(t){var a,n;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,s({variables:{email:c.email,password:c.password}});case 4:a=e.sent,n=a.data.login.token,M.login(n),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case\"end\":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),E=function(e){var t=e.target,a=t.name,n=t.value;o(Object(p.a)(Object(p.a)({},c),{},Object(Z.a)({},a,n)))};return r.a.createElement(\"div\",{className:\"container my-1\"},r.a.createElement(l.b,{to:\"/signup\"},\"\\u2190 Go to Signup\"),r.a.createElement(\"h2\",null,\"Login\"),r.a.createElement(\"form\",{onSubmit:d},r.a.createElement(\"div\",{className:\"flex-row space-between my-2\"},r.a.createElement(\"label\",{htmlFor:\"email\"},\"Email address:\"),r.a.createElement(\"input\",{placeholder:\"youremail@test.com\",name:\"email\",type:\"email\",id:\"email\",onChange:E})),r.a.createElement(\"div\",{className:\"flex-row space-between my-2\"},r.a.createElement(\"label\",{htmlFor:\"pwd\"},\"Password:\"),r.a.createElement(\"input\",{placeholder:\"******\",name:\"password\",type:\"password\",id:\"pwd\",onChange:E})),m?r.a.createElement(\"div\",null,r.a.createElement(\"p\",{className:\"error-text\"},\"The provided credentials are incorrect\")):null,r.a.createElement(\"div\",{className:\"flex-row flex-end\"},r.a.createElement(\"button\",{type:\"submit\"},\"Submit\"))))};var ce=function(e){var t=Object(n.useState)({email:\"\",password:\"\"}),a=Object(U.a)(t,2),c=a[0],o=a[1],i=Object(ee.a)(ne),u=Object(U.a)(i,1)[0],s=function(){var e=Object(P.a)(R.a.mark((function e(t){var a,n;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,u({variables:{email:c.email,password:c.password,firstName:c.firstName,lastName:c.lastName}});case 3:a=e.sent,n=a.data.addUser.token,M.login(n);case 6:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(e){var t=e.target,a=t.name,n=t.value;o(Object(p.a)(Object(p.a)({},c),{},Object(Z.a)({},a,n)))};return r.a.createElement(\"div\",{className:\"container my-1\"},r.a.createElement(l.b,{to:\"/login\"},\"\\u2190 Go to Login\"),r.a.createElement(\"h2\",null,\"Signup\"),r.a.createElement(\"form\",{onSubmit:s},r.a.createElement(\"div\",{className:\"flex-row space-between my-2\"},r.a.createElement(\"label\",{htmlFor:\"firstName\"},\"First Name:\"),r.a.createElement(\"input\",{placeholder:\"First\",name:\"firstName\",type:\"firstName\",id:\"firstName\",onChange:m})),r.a.createElement(\"div\",{className:\"flex-row space-between my-2\"},r.a.createElement(\"label\",{htmlFor:\"lastName\"},\"Last Name:\"),r.a.createElement(\"input\",{placeholder:\"Last\",name:\"lastName\",type:\"lastName\",id:\"lastName\",onChange:m})),r.a.createElement(\"div\",{className:\"flex-row space-between my-2\"},r.a.createElement(\"label\",{htmlFor:\"email\"},\"Email:\"),r.a.createElement(\"input\",{placeholder:\"youremail@test.com\",name:\"email\",type:\"email\",id:\"email\",onChange:m})),r.a.createElement(\"div\",{className:\"flex-row space-between my-2\"},r.a.createElement(\"label\",{htmlFor:\"pwd\"},\"Password:\"),r.a.createElement(\"input\",{placeholder:\"******\",name:\"password\",type:\"password\",id:\"pwd\",onChange:m})),r.a.createElement(\"div\",{className:\"flex-row flex-end\"},r.a.createElement(\"button\",{type:\"submit\"},\"Submit\"))))};var oe=function(){return r.a.createElement(\"header\",{className:\"flex-row px-1\"},r.a.createElement(\"h1\",null,r.a.createElement(l.b,{to:\"/\"},r.a.createElement(\"span\",{role:\"img\",\"aria-label\":\"shopping bag\"},\"\\ud83d\\udecd\\ufe0f\"),\"-Shop-Shop\")),r.a.createElement(\"nav\",null,M.loggedIn()?r.a.createElement(\"ul\",{className:\"flex-row\"},r.a.createElement(\"li\",{className:\"mx-1\"},r.a.createElement(l.b,{to:\"/orderHistory\"},\"Order History\")),r.a.createElement(\"li\",{className:\"mx-1\"},r.a.createElement(\"a\",{href:\"/\",onClick:function(){return M.logout()}},\"Logout\"))):r.a.createElement(\"ul\",{className:\"flex-row\"},r.a.createElement(\"li\",{className:\"mx-1\"},r.a.createElement(l.b,{to:\"/signup\"},\"Signup\")),r.a.createElement(\"li\",{className:\"mx-1\"},r.a.createElement(l.b,{to:\"/login\"},\"Login\")))))};var le=function(){var e,t=Object(d.a)(T).data;return t&&(e=t.user),r.a.createElement(r.a.Fragment,null,r.a.createElement(\"div\",{className:\"container my-1\"},r.a.createElement(l.b,{to:\"/\"},\"\\u2190 Back to Products\"),e?r.a.createElement(r.a.Fragment,null,r.a.createElement(\"h2\",null,\"Order History for \",e.firstName,\" \",e.lastName),e.orders.map((function(e){return r.a.createElement(\"div\",{key:e._id,className:\"my-2\"},r.a.createElement(\"h3\",null,new Date(parseInt(e.purchaseDate)).toLocaleDateString()),r.a.createElement(\"div\",{className:\"flex-row\"},e.products.map((function(e,t){var a=e._id,n=e.image,c=e.name,o=e.price;return r.a.createElement(\"div\",{key:t,className:\"card px-1 py-1\"},r.a.createElement(l.b,{to:\"/products/\".concat(a)},r.a.createElement(\"img\",{alt:c,src:\"/images/\".concat(n)}),r.a.createElement(\"p\",null,c)),r.a.createElement(\"div\",null,r.a.createElement(\"span\",null,\"$\",o)))}))))}))):null))};var ie=function(){var e=Object(ee.a)(ae),t=Object(U.a)(e,1)[0];return Object(n.useEffect)((function(){function e(){return(e=Object(P.a)(R.a.mark((function e(){var a,n,r,c;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(\"cart\",\"get\");case 2:if(a=e.sent,!(n=a.map((function(e){return e._id}))).length){e.next=11;break}return e.next=7,t({variables:{products:n}});case 7:r=e.sent,c=r.data,c.addOrder.products.forEach((function(e){E(\"cart\",\"delete\",e)}));case 11:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t]),setTimeout((function(){window.location.assign(\"/\")}),3e3),r.a.createElement(\"div\",null,r.a.createElement(z,null,r.a.createElement(\"h1\",null,\"Success!\"),r.a.createElement(\"h2\",null,\"Thank you for your purchase!\"),r.a.createElement(\"h2\",null,\"You will now be redirected to the homepage\")))},ue=a(70),se={products:[],cart:[],cartOpen:!1,categories:[],currentCategory:\"\"},me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case\"UPDATE_PRODUCTS\":return Object(p.a)(Object(p.a)({},e),{},{products:Object(S.a)(t.products)});case\"UPDATE_CATEGORIES\":return Object(p.a)(Object(p.a)({},e),{},{categories:Object(S.a)(t.categories)});case\"UPDATE_CURRENT_CATEGORY\":return Object(p.a)(Object(p.a)({},e),{},{currentCategory:t.currentCategory});case\"ADD_TO_CART\":return Object(p.a)(Object(p.a)({},e),{},{cartOpen:!0,cart:[].concat(Object(S.a)(e.cart),[t.product])});case\"ADD_MULTIPLE_TO_CART\":return Object(p.a)(Object(p.a)({},e),{},{cart:[].concat(Object(S.a)(e.cart),Object(S.a)(t.products))});case\"REMOVE_FROM_CART\":var a=e.cart.filter((function(e){return e._id!==t._id}));return Object(p.a)(Object(p.a)({},e),{},{cartOpen:a.length>0,cart:a});case\"UPDATE_CART_QUANTITY\":return Object(p.a)(Object(p.a)({},e),{},{cartOpen:!0,cart:e.cart.map((function(e){return t._id===e._id&&(e.purchaseQuantity=t.purchaseQuantity),e}))});case\"CLEAR_CART\":return Object(p.a)(Object(p.a)({},e),{},{cartOpen:!1,cart:[]});case\"TOGGLE_CART\":return Object(p.a)(Object(p.a)({},e),{},{cartOpen:!e.cartOpen});default:return e}},de=Object(ue.a)(me,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),pe=new s.a({request:function(e){var t=localStorage.getItem(\"id_token\");e.setContext({headers:{authorization:t?\"Bearer \".concat(t):\"\"}})},uri:\"/graphql\"});var Ee=function(){return r.a.createElement(u.a,{client:pe},r.a.createElement(l.a,null,r.a.createElement(\"div\",null,r.a.createElement(m.a,{store:de},r.a.createElement(oe,null),r.a.createElement(i.c,null,r.a.createElement(i.a,{exact:!0,path:\"/\",component:B}),r.a.createElement(i.a,{exact:!0,path:\"/login\",component:re}),r.a.createElement(i.a,{exact:!0,path:\"/signup\",component:ce}),r.a.createElement(i.a,{exact:!0,path:\"/orderHistory\",component:le}),r.a.createElement(i.a,{exact:!0,path:\"/products/:id\",component:V}),r.a.createElement(i.a,{exact:!0,path:\"/success\",component:ie}),r.a.createElement(i.a,{component:K}))))))},fe=Boolean(\"localhost\"===window.location.hostname||\"[::1]\"===window.location.hostname||window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function be(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){\"installed\"===a.state&&(navigator.serviceWorker.controller?(console.log(\"New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA.\"),t&&t.onUpdate&&t.onUpdate(e)):(console.log(\"Content is cached for offline use.\"),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error(\"Error during service worker registration:\",e)}))}o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Ee,null)),document.getElementById(\"root\")),function(e){if(\"serviceWorker\"in navigator){if(new URL(\"\",window.location.href).origin!==window.location.origin)return;window.addEventListener(\"load\",(function(){var t=\"\".concat(\"\",\"/service-worker.js\");fe?(!function(e,t){fetch(e,{headers:{\"Service-Worker\":\"script\"}}).then((function(a){var n=a.headers.get(\"content-type\");404===a.status||null!=n&&-1===n.indexOf(\"javascript\")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):be(e,t)})).catch((function(){console.log(\"No internet connection found. App is running in offline mode.\")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log(\"This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA\")}))):be(t,e)}))}}()}},[[77,1,2]]]);","extractedComments":[]}